class WolframC2CGui{referenceEl=null;displayEl=null;baseClass="wolfram-c2c-tooltip";customClass="";triggerClass="wolfram-c2c-trigger";customTriggerClass="";showClass="show";hideClass="hide";belowClass="below";coppyClass="copied";errorClass="error";active=!0;mouseX=0;mouseY=0;position="above";positions=["above","below","aboveMouse"];constructor(s,t="",e=""){if(!this.validPosition(s))throw new Error("invalid position");this.position=s,this.validClass(t)&&(this.customClass=t),this.validClass(e)&&(this.customTriggerClass=e),"below"!=this.position?(this.referenceEl=this.addToolTip([this.baseClass,this.customClass,this.showClass]),this.displayEl=this.addToolTip([this.baseClass,this.customClass])):(this.referenceEl=this.addToolTip([this.baseClass,this.customClass,this.belowClass,this.showClass]),this.displayEl=this.addToolTip([this.baseClass,this.customClass,this.belowClass]));let i=this;document.addEventListener("mousemove",(function(s){i.mouseListener(s)})),document.addEventListener("touchstart",(function(s){i.touchListener(s)})),document.addEventListener("touchmove",(function(s){i.touchListener(s)}))}validPosition(s){return this.positions.includes(s)}validClass(s){return"string"==typeof s&&""!=s}addClasses(s,t){for(var e=0;e<t.length;e++)""!=t[e]&&s.classList.add(t[e])}removeClasses(s,t){for(var e=0;e<t.length;e++)""!=t[e]&&s.classList.remove(t[e])}addToolTip(s){let t=document.createElement("span");t.style.left="-10000px",t.style.top="-10000px",this.addClasses(t,s);let e=document.createElement("i");t.appendChild(e);let i=document.createElement("span");return t.appendChild(i),document.body.appendChild(t),t}getElementDimensions(s,t=!1){let e={top:0,left:0,width:0,height:0,leftMargin:0,rightMargin:0,topMargin:0,bottomMargin:0},i=s.getBoundingClientRect(),l=getComputedStyle(s);return e.leftMargin=parseFloat(l.getPropertyValue("margin-left")),e.rightMargin=parseFloat(l.getPropertyValue("margin-right")),e.topMargin=parseFloat(l.getPropertyValue("margin-top")),e.bottomMargin=parseFloat(l.getPropertyValue("margin-bottom")),e.width=i.width,e.height=i.height,e.left=i.left-e.leftMargin,e.top=i.top-e.topMargin,t&&(e.left=e.left+window.scrollX,e.top=e.top+window.scrollY),e}mouseListener(s){this.mouseX=s.pageX,this.mouseY=s.pageY,this.active&&"aboveMouse"==this.position&&this.move()}touchListener(s){this.mouseX=s.touches[0].pageX,this.mouseY=s.touches[0].pageY}move(s=null){let t=0,e=0,i=null,l=this.getElementDimensions(this.referenceEl);switch(null!==s&&(i=this.getElementDimensions(s,!0)),this.position){case"above":t=i.left+((i.width-l.width)/2-l.leftMargin),e=i.top-l.height-l.topMargin-l.bottomMargin,this.displayEl.style.left=t+"px",this.displayEl.style.top=e+"px";break;case"below":t=i.left+((i.width-l.width)/2-l.leftMargin),e=i.top+i.height,this.displayEl.style.left=t+"px",this.displayEl.style.top=e+"px";break;case"aboveMouse":t=this.mouseX-(l.width/2-l.leftMargin),e=this.mouseY-l.height-l.topMargin-l.bottomMargin,this.displayEl.style.left=t+"px",this.displayEl.style.top=e+"px";break;default:throw new Error("invalid position")}}show(s){this.addClasses(s,[this.triggerClass,this.customTriggerClass]),this.removeClasses(this.displayEl,[this.errorClass,this.coppyClass,this.hideClass]),this.move(s);let t=this;setTimeout((function(){t.addClasses(t.displayEl,[t.showClass]),t.active=!0}),0)}hide(s){this.removeClasses(s,[this.triggerClass,this.customTriggerClass]),this.removeClasses(this.displayEl,[this.errorClass,this.coppyClass,this.showClass]),this.addClasses(this.displayEl,[this.hideClass]),this.active=!1}copy(){this.removeClasses(this.displayEl,[this.errorClass]),this.addClasses(this.displayEl,[this.coppyClass])}error(){this.removeClasses(this.displayEl,[this.coppyClass]),this.addClasses(this.displayEl,[this.errorClass])}}